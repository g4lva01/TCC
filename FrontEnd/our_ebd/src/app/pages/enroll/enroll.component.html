<div class="layout">
  <app-menu></app-menu>
  <div class="main-content">
    <div class="header">
      <img src="./../../../assets/image/logo.png" alt="">
      <h3 id="title">EBD</h3>
    </div>

    <h2>Matricular Novo Aluno</h2>

    <!-- Formulário de matrícula -->
    <form class="form-enroll" (ngSubmit)="matricularAluno()">
      <div class="form-group">
        <label for="nome">Nome completo</label>
        <input id="nome" type="text" [(ngModel)]="novoAluno.nome" name="nome" required>
      </div>

      <div class="form-group">
        <label for="dtNascimento">Data de Nascimento</label>
        <input id="dtNascimento" type="date" [(ngModel)]="novoAluno.dtNascimento" name="dtNascimento" required>
      </div>

      <div class="form-group">
        <label for="matricula">Matrícula</label>
        <input id="matricula" type="number" [(ngModel)]="novoAluno.matricula" name="matricula" required>
      </div>

      <button type="submit">Matricular</button>
    </form>

    <hr>

    <h2>Pesquisar Aluno</h2>
    <form class="form-search" (ngSubmit)="pesquisarAluno()">
      <input type="text" [(ngModel)]="busca" name="busca" placeholder="Digite nome ou matrícula" required>
      <button type="submit">Pesquisar</button>
    </form>

    <div *ngIf="alunoEncontrado">
      <h3>Aluno encontrado:</h3>
      <p><strong>Nome:</strong> {{ alunoEncontrado.nome }}</p>
      <p><strong>Matrícula:</strong> {{ alunoEncontrado.matricula }}</p>
      <p><strong>Data de Nascimento:</strong> {{ alunoEncontrado.dtNascimento }}</p>

      <button (click)="desmatricularAluno(alunoEncontrado.id)">Desmatricular</button>
    </div>

    <div *ngIf="alunoNaoEncontrado">
      <p>⚠️ Nenhum aluno encontrado com esse critério.</p>
    </div>
  </div>
</div>